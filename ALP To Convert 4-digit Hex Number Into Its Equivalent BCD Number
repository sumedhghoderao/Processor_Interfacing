PRINT MACRO M
LEA DX,M
MOV AH,09H
INT 21H
ENDM
DATA SEGMENT
MSG1 DB 10,13,"MENU:"
DB 10,13,"1.CONVERT HEXADECIMAL TO BCD"
DB 10,13,"2.CONVERT BCD TO HEXADECIMAL"
DB 10,13,"3.EXIT"
DB 10,13,"ENTER YOUR CHOICE=$"
MSG2 DB 10,13,"ENTER HEXADECIMAL NO=$"
MSG3 DB 10,13,"BCD EQUALIENT IS=$"
MSG4 DB 10,13,"ENETER THE BCD NO=$"
MSG5 DB 10,13,"HEX EQUIVALENT BCD $"
MSG6 DB 10,13,"INVALID BCD $"
TEMP DB ?
NUM DW ?
DATA ENDS
CODE SEGMENT
ASSUME CS:CODE,DS:DATA
MAIN:
MOV AX,DATA
MOV DS,AX
MENU:
PRINT MSG1
MOV AH,01H
INT 21H
CMP AL,31H
JE HEXTOBCD
CMP AL,32H
JE BCDTOHEX
CMP AL,33H
JE EXIT
JMP MENU
HEXTOBCD: CALL HEXTOBCD1
JMP MENU
BCDTOHEX: CALL BCDTOHEX1
JMP MENU
EXIT: MOV AH,4CH
INT 21H
HEXTOBCD1 PROC
PRINT MSG2
CALL INPUT
MOV NUM,BX
PRINT MSG3
CALL H2B
JMP MENU
INPUT PROC
MOV CL,04H
MOV SI,04H
MOV BX,0000H
UP:MOV AH,01H
INT 21H
CMP AL,39H
JNG DN
SUB AL,07H
DN:SUB AL,30H
SHL BX,CL
ADD BL,AL
DEC SI
JNZ UP
RET
INPUT ENDP
H2B PROC
MOV AX,NUM
MOV CX,0000H
MOV BX,10
UP1:MOV DX,0
DIV BX
PUSH DX
INC CX
OR AX,AX
JNZ UP1
UP2:POP DX
ADD DL,30H
MOV AH,02H
INT 21H
DEC CL
JNZ UP2
RET
H2B ENDP
RET
HEXTOBCD1 ENDP
BCDTOHEX1 PROC
PRINT MSG4
MOV SI,04H
MOV CL,0AH
MOV BX,0000H
UP3:MOV AH,01H
INT 21H
CMP AL,39H
JA DN1
SUB AL,30H
MOV AH,00H
PUSH AX
MOV AX,BX
MUL CX
MOV BX,AX
POP AX
ADD BX,AX
DEC SI
JNZ UP3
PRINT MSG5
MOV TEMP,BH
CALL DISPLAY
MOV TEMP,BL
CALL DISPLAY
JMP EXIT
DN1:PRINT MSG6
MOV AH,4CH
INT 21H
DISPLAY PROC
MOV DL,TEMP
AND DL,0F0H
MOV CL,04H
SHR DL,CL
CMP DL,09H
JNG NEXT
ADD DL,07H
NEXT:ADD DL,30H
MOV AH,02H
INT 21H
MOV DL,TEMP
AND DL,0FH
CMP DL,09H
JNG NEXT1
ADD DL,07H
NEXT1:
ADD DL,30H
MOV AH,02H
INT 21H
RET
DISPLAY ENDP
RET
BCDTOHEX1 ENDP
CODE ENDS
END MAIN

